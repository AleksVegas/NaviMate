<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–¢–µ—Å—Ç –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è –±–∞–≥–∞ –ø—Ä–∏–±—ã—Ç–∏—è</title>
    <style>
        body { font-family: Arial, sans-serif; margin: 20px; }
        .test-case { margin: 20px 0; padding: 15px; border: 1px solid #ccc; border-radius: 8px; }
        .input { margin: 10px 0; }
        label { display: inline-block; width: 200px; }
        button { padding: 10px 20px; background: #007bff; color: white; border: none; border-radius: 4px; cursor: pointer; }
        .result { margin-top: 15px; padding: 10px; background: #f8f9fa; border-radius: 4px; }
        .expected { color: #28a745; font-weight: bold; }
        .actual { color: #dc3545; font-weight: bold; }
    </style>
</head>
<body>
    <h1>üß™ –¢–µ—Å—Ç –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è –±–∞–≥–∞ –ø—Ä–∏–±—ã—Ç–∏—è</h1>
    
    <div class="test-case">
        <h3>–¢–µ—Å—Ç 1: –°—Ç–∞—Ä—Ç –ø–æ—Å–ª–µ 18:00 (12-—á–∞—Å–æ–≤–æ–π –¥–µ–Ω—å)</h3>
        <div class="input">
            <label>–ù–∞—á–∞–ª—å–Ω—ã–π –∫–º:</label>
            <input type="number" id="startKm1" value="1640">
        </div>
        <div class="input">
            <label>–ö–æ–Ω–µ—á–Ω—ã–π –∫–º:</label>
            <input type="number" id="endKm1" value="1660">
        </div>
        <div class="input">
            <label>–°–∫–æ—Ä–æ—Å—Ç—å (–∫–º/—á):</label>
            <input type="number" id="speed1" value="10">
        </div>
        <div class="input">
            <label>–í—Ä–µ–º—è —Å—Ç–∞—Ä—Ç–∞:</label>
            <input type="datetime-local" id="startTime1" value="2025-08-28T20:42">
        </div>
        <div class="input">
            <label>–†–∞–±–æ—á–∏–µ —á–∞—Å—ã:</label>
            <select id="workHours1">
                <option value="12" selected>12 —á–∞—Å–æ–≤</option>
                <option value="14">14 —á–∞—Å–æ–≤</option>
                <option value="16">16 —á–∞—Å–æ–≤</option>
                <option value="18">18 —á–∞—Å–æ–≤</option>
                <option value="24">24 —á–∞—Å–∞</option>
            </select>
        </div>
        <button onclick="testCase1()">–¢–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å</button>
        <div id="result1" class="result"></div>
    </div>

    <div class="test-case">
        <h3>–¢–µ—Å—Ç 2: –°—Ç–∞—Ä—Ç –¥–æ 06:00 (12-—á–∞—Å–æ–≤–æ–π –¥–µ–Ω—å)</h3>
        <div class="input">
            <label>–ù–∞—á–∞–ª—å–Ω—ã–π –∫–º:</label>
            <input type="number" id="startKm2" value="1640">
        </div>
        <div class="input">
            <label>–ö–æ–Ω–µ—á–Ω—ã–π –∫–º:</label>
            <input type="number" id="endKm2" value="1660">
        </div>
        <div class="input">
            <label>–°–∫–æ—Ä–æ—Å—Ç—å (–∫–º/—á):</label>
            <input type="number" id="speed2" value="10">
        </div>
        <div class="input">
            <label>–í—Ä–µ–º—è —Å—Ç–∞—Ä—Ç–∞:</label>
            <input type="datetime-local" id="startTime2" value="2025-08-28T00:00">
        </div>
        <div class="input">
            <label>–†–∞–±–æ—á–∏–µ —á–∞—Å—ã:</label>
            <select id="workHours2">
                <option value="12" selected>12 —á–∞—Å–æ–≤</option>
                <option value="14">14 —á–∞—Å–æ–≤</option>
                <option value="16">16 —á–∞—Å–æ–≤</option>
                <option value="18">18 —á–∞—Å–æ–≤</option>
                <option value="24">24 —á–∞—Å–∞</option>
            </select>
        </div>
        <button onclick="testCase2()">–¢–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å</button>
        <div id="result2" class="result"></div>
    </div>

    <script src="js/arrivalcalc.js"></script>
    <script>
        function testCase1() {
            const startKm = parseInt(document.getElementById('startKm1').value);
            const endKm = parseInt(document.getElementById('endKm1').value);
            const speed = parseInt(document.getElementById('speed1').value);
            const startTimeStr = document.getElementById('startTime1').value;
            const workHours = parseInt(document.getElementById('workHours1').value);
            
            const startTime = new Date(startTimeStr);
            const distance = endKm - startKm;
            const travelHours = distance / speed;
            
            console.log('=== –¢–ï–°–¢ 1: –°—Ç–∞—Ä—Ç –ø–æ—Å–ª–µ 18:00 ===');
            console.log(`–°—Ç–∞—Ä—Ç: ${startTime.toLocaleString('ru-RU')}`);
            console.log(`–†–∞—Å—Å—Ç–æ—è–Ω–∏–µ: ${distance} –∫–º`);
            console.log(`–°–∫–æ—Ä–æ—Å—Ç—å: ${speed} –∫–º/—á`);
            console.log(`–í—Ä–µ–º—è –≤ –ø—É—Ç–∏: ${travelHours} —á`);
            console.log(`–†–∞–±–æ—á–∏–µ —á–∞—Å—ã: ${workHours}`);
            
            const arrivalTime = computeArrivalWithShifts(startTime, travelHours, workHours);
            
            const result = document.getElementById('result1');
            result.innerHTML = `
                <div><strong>–í—Ö–æ–¥–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ:</strong></div>
                <div>–°—Ç–∞—Ä—Ç: ${startTime.toLocaleString('ru-RU')}</div>
                <div>–†–∞—Å—Å—Ç–æ—è–Ω–∏–µ: ${distance} –∫–º</div>
                <div>–°–∫–æ—Ä–æ—Å—Ç—å: ${speed} –∫–º/—á</div>
                <div>–í—Ä–µ–º—è –≤ –ø—É—Ç–∏: ${travelHours.toFixed(2)} —á</div>
                <div>–†–∞–±–æ—á–∏–µ —á–∞—Å—ã: ${workHours}</div>
                <br>
                <div><strong>–†–µ–∑—É–ª—å—Ç–∞—Ç:</strong></div>
                <div class="actual">–í—Ä–µ–º—è –ø—Ä–∏–±—ã—Ç–∏—è: ${arrivalTime.toLocaleString('ru-RU')}</div>
                <br>
                <div><strong>–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:</strong></div>
                <div class="expected">–í—Ä–µ–º—è –ø—Ä–∏–±—ã—Ç–∏—è: 29.08.2025, 08:00</div>
                <br>
                <div><strong>–°—Ç–∞—Ç—É—Å:</strong> ${arrivalTime.getHours() === 8 && arrivalTime.getDate() === 29 ? '‚úÖ –ü–†–û–®–ï–õ' : '‚ùå –ù–ï –ü–†–û–®–ï–õ'}</div>
            `;
        }
        
        function testCase2() {
            const startKm = parseInt(document.getElementById('startKm2').value);
            const endKm = parseInt(document.getElementById('endKm2').value);
            const speed = parseInt(document.getElementById('speed2').value);
            const startTimeStr = document.getElementById('startTime2').value;
            const workHours = parseInt(document.getElementById('workHours2').value);
            
            const startTime = new Date(startTimeStr);
            const distance = endKm - startKm;
            const travelHours = distance / speed;
            
            console.log('=== –¢–ï–°–¢ 2: –°—Ç–∞—Ä—Ç –¥–æ 06:00 ===');
            console.log(`–°—Ç–∞—Ä—Ç: ${startTime.toLocaleString('ru-RU')}`);
            console.log(`–†–∞—Å—Å—Ç–æ—è–Ω–∏–µ: ${distance} –∫–º`);
            console.log(`–°–∫–æ—Ä–æ—Å—Ç—å: ${speed} –∫–º/—á`);
            console.log(`–í—Ä–µ–º—è –≤ –ø—É—Ç–∏: ${travelHours} —á`);
            console.log(`–†–∞–±–æ—á–∏–µ —á–∞—Å—ã: ${workHours}`);
            
            const arrivalTime = computeArrivalWithShifts(startTime, travelHours, workHours);
            
            const result = document.getElementById('result2');
            result.innerHTML = `
                <div><strong>–í—Ö–æ–¥–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ:</strong></div>
                <div>–°—Ç–∞—Ä—Ç: ${startTime.toLocaleString('ru-RU')}</div>
                <div>–†–∞—Å—Å—Ç–æ—è–Ω–∏–µ: ${distance} –∫–º</div>
                <div>–°–∫–æ—Ä–æ—Å—Ç—å: ${speed} –∫–º/—á</div>
                <div>–í—Ä–µ–º—è –≤ –ø—É—Ç–∏: ${travelHours.toFixed(2)} —á</div>
                <div>–†–∞–±–æ—á–∏–µ —á–∞—Å—ã: ${workHours}</div>
                <br>
                <div><strong>–†–µ–∑—É–ª—å—Ç–∞—Ç:</strong></div>
                <div class="actual">–í—Ä–µ–º—è –ø—Ä–∏–±—ã—Ç–∏—è: ${arrivalTime.toLocaleString('ru-RU')}</div>
                <br>
                <div><strong>–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:</strong></div>
                <div class="expected">–í—Ä–µ–º—è –ø—Ä–∏–±—ã—Ç–∏—è: 28.08.2025, 08:00</div>
                <br>
                <div><strong>–°—Ç–∞—Ç—É—Å:</strong> ${arrivalTime.getHours() === 8 && arrivalTime.getDate() === 28 ? '‚úÖ –ü–†–û–®–ï–õ' : '‚ùå –ù–ï –ü–†–û–®–ï–õ'}</div>
            `;
        }
    </script>
</body>
</html>